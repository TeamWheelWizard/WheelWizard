<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lang="clr-namespace:WheelWizard.Resources.Languages"
        xmlns:components="using:WheelWizard.Views.Components"
        xmlns:patterns="clr-namespace:WheelWizard.Views.Patterns"
        xmlns:miiVars="using:WheelWizard.MiiImages.Domain"
        xmlns:behaviorComponent="clr-namespace:WheelWizard.Views.Patterns">
    <Design.PreviewWith>
        <StackPanel Background="{StaticResource Neutral950}">
            <patterns:PlayerListItem Width="428" Height="124"
                                       FriendCode="1234-5678-9012"
                                       UserName="Lum Patch"
                                       Vr="5000"
                                       IsOpenHost="True"
                                       HasBadges="True"
                                       IsTopPlayer="True"
                                       TopLabel="TOP 3" />

            <patterns:PlayerListItem Width="428" Height="124"
                                       FriendCode="1234-5678-9012"
                                       UserName="Someone Else"
                                       Vr="5000"
                                       HasBadges="True" />

            <patterns:PlayerListItem Width="428" Height="124"
                                       FriendCode="1234-5678-9012"
                                       UserName="WantToBeeMe"
                                       Vr="5000"
                                       HasBadges="False"
                                       IsTopPlayer="True"
                                       TopLabel="TOP 12" />

            <patterns:PlayerListItem Width="428" Height="124"
                                       FriendCode="1234-5678-9012"
                                       UserName="Random Guy"
                                       Vr="5000"
                                       HasBadges="False" />

            <patterns:PlayerListItem Width="428" Height="124"
                                       FriendCode="1234-5678-9012"
                                       UserName="Someone Else"
                                       Vr="5000"
                                       HasBadges="False" />
        </StackPanel>
    </Design.PreviewWith>

    <Style Selector="patterns|PlayerListItem">
        <Setter Property="Template">
            <ControlTemplate>
                <Border Classes="BoxItemBackground">
                    <Grid ColumnDefinitions="Auto,130,80,*">
                        <Border Grid.Column="0" CornerRadius="999999" ClipToBounds="True"
                                Background="{StaticResource Neutral950}" Width="50" Height="50" Margin="0,3">
                            <behaviorComponent:MiiImageLoader HorizontalAlignment="Stretch" VerticalAlignment="Stretch"
                                                              LoadingColor="{StaticResource Neutral600}"
                                                              Mii="{TemplateBinding Mii}"
                                                              FallBackColor="{StaticResource Neutral600}"
                                                              ImageVariant="{x:Static miiVars:MiiImageVariants.OnlinePlayerSmall}" />
                        </Border>

                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <components:FormFieldLabel Text="{TemplateBinding UserName}" Margin="10,0,0,0" />
                            <TextBlock Text="{TemplateBinding FriendCode}" FontSize="14"
                                       Classes="TinyText" HorizontalAlignment="Left" VerticalAlignment="Center"
                                       Margin="10,0,0,0" />
                        </StackPanel>


                        <StackPanel Grid.Column="2" VerticalAlignment="Center">
                            <components:FormFieldLabel Text="{x:Static lang:Common.Attribute_VrAbbreviation}"
                                                       Margin="10,0,0,0" />
                            <TextBlock Text="{TemplateBinding Vr}" FontSize="14"
                                       Classes="TinyText" HorizontalAlignment="Left" VerticalAlignment="Center"
                                       Margin="10,0,0,0" />
                        </StackPanel>

                        <Grid Grid.Column="3" ColumnDefinitions="*,Auto,Auto,Auto" VerticalAlignment="Center">
                            <Border Grid.Column="0" Background="Transparent" HorizontalAlignment="Stretch"
                                    IsVisible="{TemplateBinding HasBadges}" Margin="0,0,6,0"
                                    CornerRadius="6" Height="40" BorderThickness="1"
                                    BorderBrush="{StaticResource Neutral600}" VerticalAlignment="Center">
                                <ScrollViewer HorizontalScrollBarVisibility="Auto">
                                    <StackPanel Orientation="Horizontal" x:Name="PART_BadgeContainer" Spacing="3">
                                    </StackPanel>
                                </ScrollViewer>
                            </Border>

                            <components:Button x:Name="PART_JoinRoomButton"
                                               Grid.Column="1"
                                               IsVisible="False"
                                               Variant="Primary"
                                               Text=""
                                               IconData="{StaticResource Road}"
                                               IconSize="11"
                                               FontSize="12"
                                               Padding="8,5"
                                               Margin="0,0,8,0"
                                               VerticalAlignment="Center"
                                               HorizontalAlignment="Right"
                                               ToolTip.Tip="{x:Static lang:Common.Action_ViewRoom}"
                                               ToolTip.Placement="Pointer"
                                               ToolTip.HorizontalOffset="12"
                                               ToolTip.VerticalOffset="0"
                                               ToolTip.ShowDelay="20" />

                            <Border x:Name="PART_TopLabelBadge"
                                    Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Right"
                                    IsVisible="{TemplateBinding IsTopPlayer}"
                                    Padding="10,6" CornerRadius="8" Margin="0,0,10,0">
                                <TextBlock x:Name="PART_TopLabelText"
                                           Text="{TemplateBinding TopLabel}" FontWeight="SemiBold" FontSize="13"
                                           />
                            </Border>

                            <PathIcon Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Right"
                                      IsVisible="{TemplateBinding IsOpenHost}"
                                      Data="{StaticResource LockOpen}" Width="16" Height="16"
                                      Foreground="{StaticResource Primary400}"
                                      Margin="0,0,10,0"
                                      ToolTip.Tip="Open Host"
                                      ToolTip.Placement="Top"
                                      ToolTip.ShowDelay="20" />
                        </Grid>
                    </Grid>
                </Border>
            </ControlTemplate>
        </Setter>
    </Style>

    <Style Selector="patterns|PlayerListItem /template/ Border#PART_TopLabelBadge">
        <Setter Property="Background" Value="{StaticResource Primary600}" />
        <Setter Property="BorderThickness" Value="0" />
    </Style>

    <Style Selector="patterns|PlayerListItem /template/ TextBlock#PART_TopLabelText">
        <Setter Property="Foreground" Value="White" />
    </Style>

    <Style Selector="patterns|PlayerListItem[ShowJoinRoomButton=true][IsOnline=true] /template/ components|Button#PART_JoinRoomButton">
        <Setter Property="IsVisible" Value="True" />
    </Style>
</Styles>
