<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:components="clr-namespace:WheelWizard.Views.Components"
             xmlns:lang="clr-namespace:WheelWizard.Resources.Languages"
             mc:Ignorable="d" d:DesignWidth="370" d:DesignHeight="520"
             x:Class="WheelWizard.Views.Pages.TestingPage">

    <UserControl.Styles>
        <Style Selector="Border.HeroCard">
            <Setter Property="Transitions">
                <Transitions>
                    <TransformOperationsTransition Property="RenderTransform" Duration="0:0:0.250" Easing="CircularEaseOut" />
                    <DoubleTransition Property="Opacity" Duration="0:0:0.250" Easing="CircularEaseOut" />
                    <BoxShadowsTransition Property="BoxShadow" Duration="0:0:0.250" Easing="CircularEaseOut" />
                </Transitions>
            </Setter>
        </Style>
        <Style Selector="Border.HeroCard:pointerover">
            <Setter Property="RenderTransform" Value="scale(1.02)" />
            <Setter Property="BoxShadow" Value="0 20 60 0 #40000000" />
        </Style>
    </UserControl.Styles>

    <Grid RowDefinitions="Auto, *, Auto" Margin="24">
        
        <!-- Header -->
        <Grid ColumnDefinitions="*, Auto" Height="40">
             <!-- Title Section -->
             <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                 <Border Background="{StaticResource Primary400}" Width="4" Height="24" CornerRadius="2" />
                 <TextBlock Text="TESTING MODE" Classes="PageTitleText" FontSize="16" FontWeight="Bold" Foreground="{StaticResource Neutral300}" VerticalAlignment="Center" LetterSpacing="1" />
             </StackPanel>
             
             <!-- Uninstall Button (Visible only when installed) -->
             <components:Button x:Name="DeleteButton" 
                                Grid.Column="1" 
                                Variant="Danger" 
                                Text="Uninstall" 
                                IconData="{StaticResource Trash}" 
                                Click="DeleteButton_OnClick" 
                                Height="36" 
                                FontSize="12" />
        </Grid>
        
        <!-- Main Content -->
        <Border Grid.Row="1" Classes="HeroCard" Margin="0,20" CornerRadius="28" ClipToBounds="True" BoxShadow="0 20 50 0 #30000000">
             <Border.Background>
                 <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                     <GradientStop Color="{StaticResource Primary900}" Offset="0" />
                     <GradientStop Color="#080808" Offset="1" />
                 </LinearGradientBrush>
             </Border.Background>
             
             <Panel>
                 <!-- Background Decorations -->
                 <PathIcon Data="{StaticResource WheelIcon}" Width="350" Height="350" Opacity="0.04" Margin="-120,-80,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Foreground="White"/>
                 <PathIcon Data="{StaticResource WheelIcon}" Width="250" Height="250" Opacity="0.04" VerticalAlignment="Bottom" HorizontalAlignment="Right" Margin="0,0,-80,-80" Foreground="White"/>
                 
                 <!-- Card Center Content -->
                 <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Spacing="24">
                     
                     <!-- Icon -->
                     <Border Width="90" Height="90" CornerRadius="45" Background="#1AFFFFFF" BoxShadow="0 8 20 0 #40000000" HorizontalAlignment="Center">
                         <PathIcon Data="{StaticResource WheelIcon}" Width="40" Height="40" Foreground="{StaticResource Primary200}" />
                     </Border>
                     
                     <!-- Title Information -->
                     <StackPanel Spacing="8">
                         <TextBlock Text="RETRO REWIND" Classes="TitleText" FontSize="26" FontWeight="Black" Foreground="White" HorizontalAlignment="Center" TextAlignment="Center" LetterSpacing="0.5"/>
                         <Border Background="{StaticResource Primary500}" CornerRadius="16" Padding="16,6" HorizontalAlignment="Center" BoxShadow="0 4 10 0 #20000000">
                             <TextBlock Text="BETA ACCESS" FontSize="11" FontWeight="Bold" Foreground="White" LetterSpacing="2"/>
                         </Border>
                     </StackPanel>
                     
                     <!-- Status Indicator -->
                     <Border Background="#15FFFFFF" CornerRadius="14" Padding="16,10" HorizontalAlignment="Center" Margin="0,10,0,0" BorderBrush="#10FFFFFF" BorderThickness="1">
                         <StackPanel Orientation="Horizontal" Spacing="10" VerticalAlignment="Center">
                             <PathIcon Data="{StaticResource InfoTip}" Width="14" Height="14" Foreground="{StaticResource Neutral400}" />
                             <TextBlock x:Name="StatusText" Text="Checking status..." Foreground="{StaticResource Neutral200}" FontSize="13" FontWeight="SemiBold" />
                         </StackPanel>
                     </Border>
                 </StackPanel>
             </Panel>
        </Border>
        
        <!-- Bottom Action Section -->
        <Grid Grid.Row="2" Margin="0,5,0,0">
             <Panel>
                 <components:Button x:Name="InstallButton" 
                                    Variant="Warning" 
                                    Text="INSTALL BETA VERSION" 
                                    IconData="{StaticResource Download}" 
                                    Click="InstallButton_OnClick" 
                                    Height="54" 
                                    FontSize="15" />
                                    
                 <components:Button x:Name="LaunchButton" 
                                    Variant="Primary" 
                                    Text="LAUNCH BETA" 
                                    IconData="{StaticResource Play}" 
                                    Click="LaunchButton_OnClick" 
                                    Height="58"
                                    FontSize="16" />
             </Panel>
        </Grid>
        
    </Grid>
</UserControl>
